<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Puntos Contraentrega Colombia</title>
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <style>
        /* Reset básico */
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            font-family: Arial, sans-serif;
        }
        /* Contenedor del mapa */
        #map {
            width: 100%;
            height: 100vh; /* Ocupa toda la altura de la pantalla */
        }
    </style>
</head>
<body>
    <!-- Contenedor del mapa -->
    <div id="map"></div>

    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script>
        // Coordenadas de Colombia
        const colombiaCenter = [4.5709, -74.2973]; // Centro de Colombia (Bogotá)
        const colombiaBounds = L.latLngBounds(
            L.latLng(-4.23, -81.85), // Esquina inferior izquierda (límite sur y oeste)
            L.latLng(13.38, -66.85)  // Esquina superior derecha (límite norte y este)
        );

        // Inicializar el mapa centrado en Colombia
        const map = L.map('map').setView(colombiaCenter, 6); // Zoom inicial 6

        // Añadir capa de OpenStreetMap
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '© OpenStreetMap contributors'
        }).addTo(map);

        // Establecer límites del mapa para Colombia
        map.setMaxBounds(colombiaBounds); // Limita el desplazamiento a Colombia
        map.on('drag', () => {
            if (!colombiaBounds.contains(map.getCenter())) {
                map.panInsideBounds(colombiaBounds, { animate: true });
            }
        });

        // Ejemplo de marcadores en Colombia
        const markers = [
            {
                name: "Horarios: Lun Vie - 8am a 6pm ",
                latlng: [3.4705, -76.5560], // Coordenadas de Bogotá
                url: "https://fz1.contraentregaco.com" // Enlace de redirección
            },
            {
                name: "Medellín",
                latlng: [6.2442, -75.5812], // Coordenadas de Medellín
                url: "https://fz2.contraentregaco.com" // Enlace de redirección
            },
            {
                name: "Cali",
                latlng: [3.4516, -76.5320], // Coordenadas de Cali
                url: "https://fz3.contraentregaco.com" // Enlace de redirección
            }, {
                name: "Montebello sector los tanques",
                latlng: [3.4843, -76.5445], // Coordenadas de Cali
                url: "https://fz4.contraentregaco.com" // Enlace de redirección
            }, {
                name: "Montebello sector colegio ",
                latlng: [3.4845, -76.5471], // Coordenadas de Cali
                url: "https://fz5.contraentregaco.com" // Enlace de redirección
            }, {
                name: "Vereda Campo Alegre sector testigos ",
                latlng: [3.4705, -76.5560], // Coordenadas de Cali
                url: "https://fz6.contraentregaco.com" // Enlace de redirección
            }, {
                name: "Cl 60 nte # 3 - 09 ",
                latlng: [3.4889, -76.5122], // Coordenadas de Cali
                url: "https://fz7.contraentregaco.com" // Enlace de redirección
            }
        ];

        // Añadir marcadores al mapa
        markers.forEach(marker => {
            const { name, latlng, url } = marker;
            L.marker(latlng)
                .addTo(map)
                .bindPopup(`<b>${name}</b><br><a href="${url}" target="_blank">Punto Contraentrega</a>`)
                .on('click', () => {
                    window.open(url, '_blank'); // Abrir enlace en una nueva pestaña
                });
        });

        // Asegurar que el mapa se redimensione correctamente
        window.addEventListener('resize', () => {
            map.invalidateSize();
        });
    </script>
</body>
</html>